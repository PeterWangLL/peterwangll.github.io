---
title: Process Communication
date: 2024-10-18
categories:
  - Technology
tags:
  - OS
nolastmod: true
cover: /img/pic-14.jpg
---

### 管道
管道就是内核中的一串缓存，从管道的一端写入的数据，从另一端读取，通信数据都遵循先进先出原则。通信效率较低，不适合进程间频繁地交换数据。

匿名管道的创建就是返回两个文件描述符，一个读，一个写。父子进程的通信可以通过管道，因为使用`fork`创建的子进程会复制父进程的文件描述符。

对于命名管道，它在不相关的进程间也能通信，提前创建一个类型为管道的设备文件，进程只要使用这个设备文件，就可以相互通信。
### 消息队列
1. 消息队列是保存在内核中的消息链表。
2. 通信不及时，附件也有大小限制。
3. 不适合比较大数据的传输。
4. 通信过程中，存在用户态与内核态之间的数据拷贝开销。
### 共享内存
每个进程都有自己独立的虚拟内存空间，不同进程的虚拟内存映射到不同的物理内存中。共享内存的机制，就是拿出一块虚拟地址空间来，映射到相同的物理内存中。

为了防止多进程竞争共享资源，需要信号量来进行同步。信号量其实是一个整型的计数器，用于实现进程间的互斥与同步。
### 信号
对于异常情况下的工作模式，需要用「信号」的方式来通知进程。Linux中，为了响应各种事件，提供了几十种信号分别代表不同的意义。