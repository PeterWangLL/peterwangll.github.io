---
title: Nov 24 南京 晴 周一
date: 2025-11-24T23:03:16+08:00
author: Peter
cover: /img/cover.jpg
categories:
  - Diary
nolastmod: true
# math: true
---

完结撒花🎉🎉🎉

<!--more-->

21号提到的问题终于迎来的结局，一波三折，现在来补全下半部分。

根本不是证书的问题，报错提示的是：

java.security.ProviderException: java.security.NoSuchAlgorithmException: SunTls12MasterSecret KeyGenerator not available

本质是在发送HTTPS请求时，三次握手完成后，进行TLS握手时，用于会话加密的加密算法缺失，从NoSuchAlgorithmException可以清晰地看出。开始是怀疑JDK版本太低，不支持TLSv1.2，但是后面和豆包确认，以及和另一个接口服务使用的JDK版本相同，可以排除是JDK本身的问题，因为接口服务是可以正常发送HTTPS请求的。光确定这件事就花了不少的时间。于是将这个请求的方法放到了接口服务中，在我的服务中通过Feign去调用，又陆陆续续调整了几版，因为Feign的路径，接口返回的报文格式不对等等问题。好在总算是是在生产的前一晚，调通了整个流程，只差最后一步，明天升到环境上再验证下。

解决这个问题，真的不止技术问题，涉及了大量的沟通，升级的时间成本。之后要再出一期专题来好好讲讲，今天先这样。
